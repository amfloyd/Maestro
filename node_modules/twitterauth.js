//  var request = require('request');
// var consumer_key = 'REf4WjS1J9xKEMcjPKGdo1MJT';
// var consumer_secret = 'LmbacJYnMnaDHfGCjSf6AlaLZnOv8cUKUYBhngbRMSSsxKc0ec';
// var encode_secret = new Buffer(consumer_key + ':' + consumer_secret).toString('base64');
//
// var bearer_token_=''
//
// var options = {
//     url: 'https://api.twitter.com/oauth2/token',
//     headers: {
//         'Authorization': 'Basic ' + encode_secret,
//         'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'},
//     body: 'grant_type=client_credentials'
// };

// request.post(options, function(error, response, body) {
//     bearer_token_=body;
// });

var request = require("request");
var twitter_api = 'https://api.twitter.com/1.1/search/tweets.json?q=';
// console.log(bearer_token_)
music="I love music"
var bearer_token = "AAAAAAAAAAAAAAAAAAAAAGl59AAAAAAAl1L3FES3oEyxAH5uLZ4BdFeg6zs%3DFcBpAQb3xbUVWQ8ZNk6nlnsiuvVxizCuFu8WmZ6LNCgSBuevzJ"; // the token you got in the last step
query='%23music'
var options = {
    method: 'GET',
    q: '%23hello',
    url: twitter_api+query,
    json: true,
    headers: {
        "Authorization": "Bearer " + bearer_token
    }
};

request(options, function(error, response, body) {
  console.log(body.statuses[0].text);
});
